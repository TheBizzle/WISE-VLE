<!--
 * Copyright (c) 2009 Regents of the University of California (Regents). Created
 * by TELS, Graduate School of Education, University of California at Berkeley.
 *
 * This software is distributed under the GNU Lesser General Public License, v2.
 *
 * Permission is hereby granted, without written agreement and without license
 * or royalty fees, to use, copy, modify, and distribute this software and its
 * documentation for any purpose, provided that the above copyright notice and
 * the following two paragraphs appear in all copies of this software.
 *
 * REGENTS SPECIFICALLY DISCLAIMS ANY WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
 * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 * PURPOSE. THE SOFTWAREAND ACCOMPANYING DOCUMENTATION, IF ANY, PROVIDED
 * HEREUNDER IS PROVIDED "AS IS". REGENTS HAS NO OBLIGATION TO PROVIDE
 * MAINTENANCE, SUPPORT, UPDATES, ENHANCEMENTS, OR MODIFICATIONS.
 *
 * IN NO EVENT SHALL REGENTS BE LIABLE TO ANY PARTY FOR DIRECT, INDIRECT,
 * SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, INCLUDING LOST PROFITS,
 * ARISING OUT OF THE USE OF THIS SOFTWARE AND ITS DOCUMENTATION, EVEN IF
 * REGENTS HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author: Hiroki Terashima
-->
<html>
<head>

<script type="text/javascript" src="../../util/scriptloader.js"></script>

<script type="text/javascript">
var ms;   // global variable so it can be accessed by other functions
var currentStateXML;  // global variable containing current state as xml string
var ddList = [];  // list of all draggable nodes
var states = [];   // current state;
		
/**
 * xmlString contains QTI-coded xml content
 */
function loadFromXMLString(xmlString, customCheck){
	var params = [xmlString, customCheck];
	scriptloader.initialize(document, loadFromXMLStringAfterScriptsLoad, 'matchsequence', params);
}; 
 
function loadFromXMLStringAfterScriptsLoad(params) {
	  var xmlDoc=loadXMLDocFromString(params[0]);
	  ms = new MS(xmlDoc, params[1]);
	  ms.render();
	  afterScriptsLoad();
}
</script>

<!--  Javascript Pop up window -->

<script type="text/javascript">

var newWin = null;
function popUp(strURL, strType, strHeight, strWidth) {
 if (newWin != null && !newWin.closed)
   newWin.close();
 var strOptions="";
 if (strType=="console")
   strOptions="resizable,height="+
     strHeight+",width="+strWidth;
 if (strType=="fixed")
   strOptions="status,height="+
     strHeight+",width="+strWidth;
 if (strType=="elastic")
   strOptions="toolbar,menubar,scrollbars,"+
     "resizable,location,height="+
     strHeight+",width="+strWidth;
 newWin = window.open(strURL, 'newWin', strOptions);
 newWin.focus();
}

</script>

<script type="text/javascript">
function afterScriptsLoad(){
	Nifty("div#locationBar2","transparent, small bottom");
	Nifty("div#questionCountBox","big, bl tr");
	Nifty("div#playContainer","big, all");
};

window.onload = function(){
	if(!window.parent){
		scriptloader.initialize(document, afterScriptsLoad, 'matchsequence');
	};
};
</script>

</head>

<body>

<div id="questionCountBox" class="bg7">
	<div class="instructionsReminder"><a href="MatchSequenceInfoBox.html" onclick="popUp(this.href,'console',700,720);return false;" target="_blank">instructions</a></div>
	<table id="questionTable">
		<tr>
		<td id="questionNumber">Question X of Y:</td>
	    <td id="questionType">Match & Sequence</td>
		<td id="questionHelp"><a href="MatchSequenceInfoBox.html" onclick="popUp(this.href,'console',700,720);return false;" target="_blank">&nbsp&nbsp&nbsp</a></td>
		</tr>
		</tr>
	</table>
</div>   <!-- end of questionNumberBox -->

<div>
	<div id="promptDiv" class="Color1">Prompt goes here. This text will automatically be replaced by actual prompt.</div>
</div>

<div id="playContainer" class="bg12">
	<div id="play"></div>
</div>

<div id="feedbackDiv">
</div>

<!-- Anchor-Based Button Layout using TABLE -->

	<div id="buttonDiv">
		<div id="statusDiv">
			<div id="numberAttemptsDiv"></div>
		</div>
		<table id="buttonTable">
		   <tr>
		   	<td><a href="#" id="checkAnswerButton" onClick="javascript:ms.checkAnswer();" >Check Answers</a></td>
	   	   </tr>
	   	 </table>
	</div>

<div id="triesContainer">
	<div id="totalTries">Number of <i>Check Answers</i> used so far: <b>0</b></div>
	<div id="remainingTries">You can check your answers <b>5</b> more times before the choices reset.</div>
</div>

<div id="roboArt">
	<a href=""><img src="../../../images/match_sequence.png" alt="Robot Art Open Response" width="180"  border="0" /></a>
</div>
</body>
</html>
